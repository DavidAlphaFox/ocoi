<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>projectstructure (ocoi.projectstructure)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="index.html">Up</a> â€“ <a href="index.html">ocoi</a> &#x00BB; projectstructure</nav><h1 id="ocaml-on-ice-project-structure"><a href="#ocaml-on-ice-project-structure" class="anchor"></a>OCaml On Ice project structure</h1><nav class="toc"><ul><li><a href="#example-project-structure">Example project structure</a></li><li><a href="#explanations">Explanations</a><ul><li><a href="#myproject/app"><code>myproject/app</code></a><ul><li><a href="#myproject/app/main.ml"><code>myproject/app/main.ml</code></a></li><li><a href="#myproject/app/.ocamlformat"><code>myproject/app/.ocamlformat</code></a></li><li><a href="#subdirectories-of-myproject/app">Subdirectories of <code>myproject/app</code></a></li></ul></li><li><a href="#myproject/dockerfile"><code>myproject/Dockerfile</code></a></li><li><a href="#other-files-in-myproject">Other files in <code>myproject</code></a></li></ul></li></ul></nav></header><h2 id="example-project-structure"><a href="#example-project-structure" class="anchor"></a>Example project structure</h2><pre><code class="ml">myproject
    /app
        /models
            mymodel.ml
        /controllers
            mymodel.ml
        /queries
            mymodel.ml
        /db
            /migrate
                mymodel_migrate.ml
                mymodel_rollback.ml
            db.ml
        .ocamlformat
        main.ml
    Dockerfile
    dune-project
    app.opam.template</code></pre><p>A project will also contain various <code>dune</code> files in <code>app</code> and subdirectories, and generated files (for instance <code>app.opam</code> in the project root directory).</p><h2 id="explanations"><a href="#explanations" class="anchor"></a>Explanations</h2><h3 id="myproject/app"><a href="#myproject/app" class="anchor"></a><code>myproject/app</code></h3><p>The <code>app</code> directory contains all of the OCaml source files for the project.</p><h4 id="myproject/app/main.ml"><a href="#myproject/app/main.ml" class="anchor"></a><code>myproject/app/main.ml</code></h4><p>The entrypoint for the project, compiled to an executable which is the server used in development and production.</p><h4 id="myproject/app/.ocamlformat"><a href="#myproject/app/.ocamlformat" class="anchor"></a><code>myproject/app/.ocamlformat</code></h4><p>A file that specifies the code style enforced by the <code>ocamlformat</code> tool when used on source code in the project.</p><h4 id="subdirectories-of-myproject/app"><a href="#subdirectories-of-myproject/app" class="anchor"></a>Subdirectories of <code>myproject/app</code></h4><p>The role of the <code>models</code>, <code>controllers</code>, <code>queries</code> and <code>db/migrate</code> subdirectories is described in the <a href="glossary.html"><span>glossary</span></a>. Note that code in the root of the <code>db</code> directory (rather than its <code>migrate</code> subdirectory) contains details about connecting to the database, not resource queries.</p><h3 id="myproject/dockerfile"><a href="#myproject/dockerfile" class="anchor"></a><code>myproject/Dockerfile</code></h3><p>The Dockerfile specifies how to build the project using docker, resulting in an image that can be deployed.</p><h3 id="other-files-in-myproject"><a href="#other-files-in-myproject" class="anchor"></a>Other files in <code>myproject</code></h3><p>Other files in the root of the <code>myproject</code> directory such as <code>dune-project</code> and <code>app.opam.template</code> are used for building the project in Docker, although they could also be used for local dependency management.</p></div></body></html>